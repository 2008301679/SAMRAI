#########################################################################
##
## This file is part of the SAMRAI distribution.  For full copyright 
## information, see COPYRIGHT and COPYING.LESSER. 
##
## Copyright:     (c) 1997-2011 Lawrence Livermore National Security, LLC
## Description:   primary makefile for compiling the SAMRAI tbox package 
##
#########################################################################


SAMRAI        = @top_srcdir@
SRCDIR        = @srcdir@
SUBDIR        = source/SAMRAI/tbox
VPATH         = @srcdir@
OBJECT        = ../../..

default: library

include $(OBJECT)/config/Makefile.config

SUBDIRS = fortran

OBJS = 	\
        Grammar.o InputManager.o Parser.o Scanner.o DatabaseBox.o \
	Database.o MemoryDatabase.o \
	MemoryDatabaseFactory.o  \
	MessageStream.o SAMRAI_MPI.o Schedule.o \
	Transaction.o AsyncCommGroup.o AsyncCommStage.o \
	BalancedDepthFirstTree.o DescribedClass.o \
	MemoryUtilities.o ReferenceCounter.o \
	ArraySpecial.o HDFDatabase.o HDFDatabaseFactory.o \
	SiloDatabase.o SiloDatabaseFactory.o RestartManager.o \
	NullDatabase.o IEEE.o ParallelBuffer.o PIO.o SAMRAIManager.o \
	StartupShutdownManager.o Tracer.o Utilities.o Logger.o \
	MathUtilitiesSpecial.o Clock.o Statistic.o Statistician.o \
	StatTransaction.o Timer.o TimerManager.o Dimension.o \
        RankGroup.o 

library: $(OBJS)
	for DIR in $(SUBDIRS); do if test -d $$DIR; then (cd $$DIR && $(MAKE) $@) ; fi || exit 1; done
clean:
	$(SAMCLEAN)
	for DIR in $(SUBDIRS); do if test -d $$DIR; then (cd $$DIR && $(MAKE) $@) ; fi || exit 1; done

include $(SRCDIR)/Makefile.depend
