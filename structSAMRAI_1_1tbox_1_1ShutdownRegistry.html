<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SAMRAI: SAMRAI::tbox::ShutdownRegistry Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1tbox.html">tbox</a>::<a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a></div>
<h1>SAMRAI::tbox::ShutdownRegistry Struct Reference</h1>Class <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a> is a utility for managing callbacks at program completion.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;source/toolbox/base/ShutdownRegistry.h&gt;</code>
<p>
<a href="structSAMRAI_1_1tbox_1_1ShutdownRegistry-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#e0">registerShutdownRoutine</a> (void(*callback)(), unsigned char priority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#e1">callRegisteredShutdowns</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s0">priorityArenaManager</a> = 10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s1">priorityReferenceCounter</a> = 20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s2">priorityList</a> = 30</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s3">priorityVariableDatabase</a> = 40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s4">priorityInputManager</a> = 50</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s5">priorityRestartManager</a> = 60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s6">priorityStatistician</a> = 60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s7">priorityBoundaryLookupTable</a> = 60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s8">priorityHierarchyDataOpsManager</a> = 60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s9">priorityTimerManger</a> = 70</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a> is a utility for managing callbacks at program completion. 
<p>
Classes that wish to have a static function called at program shutdown must register a class via <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#e0">registerShutdownRoutine()</a>. The registered shutdown handler is then called at shutdown when the <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#e1">callRegisteredShutdowns()</a> is invoked. Note that the application program must explicitly call <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#e1">callRegisteredShutdowns()</a>.<p>
This class is useful in releasing allocated class-specific static memory on program completion to simplify the search for memory leaks. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="SAMRAI::tbox::ShutdownRegistry::registerShutdownRoutine"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SAMRAI::tbox::ShutdownRegistry::registerShutdownRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void(*)()&nbsp;</td>
          <td class="mdname" nowrap> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>priority</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register a shutdown routine with the <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a>. The shutdown handler must take no arguments and returns no value.<p>
The priority is used to specify the order for shutdowns, higher numbers are shutdown first, lower last (254 first, 0 last).<p>
The priority is required since handlers can depend on one another. Basic handlers like Lists should be last, higher level handlers (which may free Lists) should be shutdown first.<p>
Users are reserved priorities 254 to 127. Unless there is a known dependency on a <a class="el" href="namespaceSAMRAI.html">SAMRAI</a> shutdown handler, users should use these priorities.<p>
There is a potential for an infinite loop if routines register themselves with the registry as part of the shutdown.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>The function to call on shutdown </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>The priority (254 called first, 0 last) </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="SAMRAI::tbox::ShutdownRegistry::callRegisteredShutdowns"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SAMRAI::tbox::ShutdownRegistry::callRegisteredShutdowns           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Invoke the registered shutdown handlers. Note that this routine must be explicitly called at the end of the application. This routine may only be called once, since the registered information is discarded at the end of this call.     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="s0" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityArenaManager"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s0">SAMRAI::tbox::ShutdownRegistry::priorityArenaManager</a> = 10<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s1" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityReferenceCounter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s1">SAMRAI::tbox::ShutdownRegistry::priorityReferenceCounter</a> = 20<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s2" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityList"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s2">SAMRAI::tbox::ShutdownRegistry::priorityList</a> = 30<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s3" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityVariableDatabase"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s3">SAMRAI::tbox::ShutdownRegistry::priorityVariableDatabase</a> = 40<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s4" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityInputManager"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s4">SAMRAI::tbox::ShutdownRegistry::priorityInputManager</a> = 50<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s5" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityRestartManager"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s5">SAMRAI::tbox::ShutdownRegistry::priorityRestartManager</a> = 60<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s6" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityStatistician"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s6">SAMRAI::tbox::ShutdownRegistry::priorityStatistician</a> = 60<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s7" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityBoundaryLookupTable"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s7">SAMRAI::tbox::ShutdownRegistry::priorityBoundaryLookupTable</a> = 60<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s8" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityHierarchyDataOpsManager"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s8">SAMRAI::tbox::ShutdownRegistry::priorityHierarchyDataOpsManager</a> = 60<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="s9" doxytag="SAMRAI::tbox::ShutdownRegistry::priorityTimerManger"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#s9">SAMRAI::tbox::ShutdownRegistry::priorityTimerManger</a> = 70<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following files:<ul>
<li>source/toolbox/base/<a class="el" href="ShutdownRegistry_8h.html">ShutdownRegistry.h</a><li>source/toolbox/base/<a class="el" href="ShutdownRegistry_8C.html">ShutdownRegistry.C</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Dec 2 11:33:18 2005 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
