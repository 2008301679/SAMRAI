<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAMRAI: SAMRAI::algs::PatchBoundaryEdgeSum Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1algs.html">algs</a>::<a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html">PatchBoundaryEdgeSum</a>
  </div>
</div>
<div class="contents">
<h1>SAMRAI::algs::PatchBoundaryEdgeSum Class Reference</h1><!-- doxytag: class="SAMRAI::algs::PatchBoundaryEdgeSum" -->
<p>Class <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> provides operations summing edge data values at edges that are shared by multiple patches on a single level. Note that this utility only works on a SINGLE patch level, not on a multiple levels in an AMR patch hierarchy like the <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryNodeSum.html" title="Class PatchBoundaryNodeSum provides operations for summing node data values at nodes...">PatchBoundaryNodeSum</a> class. Unlike node data, edge data at coarse-fine boundaries are not co-located, so the sum operation is not clearly defined.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;source/SAMRAI/algs/PatchBoundaryEdgeSum.h&gt;</code></p>

<p><a href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#a3f6779a264640c2b08789c586f556ebc">PatchBoundaryEdgeSum</a> (const std::string &amp;object_name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor initializes object to default (mostly undefined) state.  <a href="#a3f6779a264640c2b08789c586f556ebc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#af170d39869c705b6066a6ffca21565f8">~PatchBoundaryEdgeSum</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor for the schedule releases all internal storage.  <a href="#af170d39869c705b6066a6ffca21565f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#a2d8f676dcb0bc7007e630ef052eb9a74">registerSum</a> (int edge_data_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register edge data with given patch data identifier for summing.  <a href="#a2d8f676dcb0bc7007e630ef052eb9a74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#a90b2f0d56bbb111cb4c10be34a2e2c92">setupSum</a> (const boost::shared_ptr&lt; <a class="el" href="classSAMRAI_1_1hier_1_1PatchLevel.html">hier::PatchLevel</a> &gt; &amp;level)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set up summation operations for edge data across shared edges on a single level.  <a href="#a90b2f0d56bbb111cb4c10be34a2e2c92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#ad813c9c0520f8d649bb272ab2cc98c15">computeSum</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute sum of edge values at each shared edge and replace each such edge value with the corresponding sum.  <a href="#ad813c9c0520f8d649bb272ab2cc98c15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#a0003811faf69a908e5aa86a1235f95e0">getObjectName</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the object name.  <a href="#a0003811faf69a908e5aa86a1235f95e0"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#aec4184c3315cb625bfdd36061b18221a">getNumSharedPatchDataSlots</a> (int max_variables_to_register)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static function used to predetermine number of patch data slots ahared among all <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> objects (i.e., static members). To get a correct count, this routine should only be called once.  <a href="#aec4184c3315cb625bfdd36061b18221a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html#a5b154bc42c78df5557a9904784d24675">getNumUniquePatchDataSlots</a> (int max_variables_to_register)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static function used to predetermine number of patch data slots unique to each <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> object (i.e., non-static members). To get a correct count, this routine should be called exactly once for each object that will be constructed.  <a href="#a5b154bc42c78df5557a9904784d24675"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> provides operations summing edge data values at edges that are shared by multiple patches on a single level. Note that this utility only works on a SINGLE patch level, not on a multiple levels in an AMR patch hierarchy like the <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryNodeSum.html" title="Class PatchBoundaryNodeSum provides operations for summing node data values at nodes...">PatchBoundaryNodeSum</a> class. Unlike node data, edge data at coarse-fine boundaries are not co-located, so the sum operation is not clearly defined. </p>
<p>Usage of a patch boundry edge sum involves the following sequence of steps:</p>
<ol type="1">
<li>Construct a patch boundry edge sum object. For example, <div class="fragment"><pre class="fragment">
 *         PatchBoundaryEdgeSum my_edge_sum("My Edge Sum");
 *     </pre></div></li>
<li>Register edge data quantities to sum. For example, <div class="fragment"><pre class="fragment">
 *         my_edge_sum.registerSum(edge_data_id1);
 *         my_edge_sum.registerSum(edge_data_id2);
 *         etc...
 *     </pre></div></li>
<li>Setup the sum operations for a single level. For example, <div class="fragment"><pre class="fragment">
 *         my_edge_sum.setupSum(level);
 *     </pre></div></li>
<li>Execute the sum operation. For example, <div class="fragment"><pre class="fragment">
 *         my_edge_sum.computeSum()
 *     </pre></div></li>
</ol>
<p>The result of these operations is that each edge patch data value associated with the registered ids at patch boundaries on the level is replaced by the sum of all data values at the edge. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3f6779a264640c2b08789c586f556ebc"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::PatchBoundaryEdgeSum" ref="a3f6779a264640c2b08789c586f556ebc" args="(const std::string &amp;object_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::algs::PatchBoundaryEdgeSum::PatchBoundaryEdgeSum </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>object_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor initializes object to default (mostly undefined) state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object_name</em>&nbsp;</td><td>const std::string reference for name of object used in error reporting.</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>!object_name.empty() </dd></dl>

<p>References <a class="el" href="Utilities_8h_source.html#l00110">TBOX_ASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="af170d39869c705b6066a6ffca21565f8"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::~PatchBoundaryEdgeSum" ref="af170d39869c705b6066a6ffca21565f8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::algs::PatchBoundaryEdgeSum::~PatchBoundaryEdgeSum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor for the schedule releases all internal storage. </p>

<p>References <a class="el" href="VariableDatabase_8C_source.html#l00044">SAMRAI::hier::VariableDatabase::getDatabase()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aec4184c3315cb625bfdd36061b18221a"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::getNumSharedPatchDataSlots" ref="aec4184c3315cb625bfdd36061b18221a" args="(int max_variables_to_register)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int SAMRAI::algs::PatchBoundaryEdgeSum::getNumSharedPatchDataSlots </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_variables_to_register</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Static function used to predetermine number of patch data slots ahared among all <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> objects (i.e., static members). To get a correct count, this routine should only be called once. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer number of internal patch data slots required to perform sum. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>max_variables_to_register</em>&nbsp;</td><td>integer value indicating maximum number of patch data ids that will be registered with edge sum objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b154bc42c78df5557a9904784d24675"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::getNumUniquePatchDataSlots" ref="a5b154bc42c78df5557a9904784d24675" args="(int max_variables_to_register)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int SAMRAI::algs::PatchBoundaryEdgeSum::getNumUniquePatchDataSlots </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_variables_to_register</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Static function used to predetermine number of patch data slots unique to each <a class="el" href="classSAMRAI_1_1algs_1_1PatchBoundaryEdgeSum.html" title="Class PatchBoundaryEdgeSum provides operations summing edge data values at edges...">PatchBoundaryEdgeSum</a> object (i.e., non-static members). To get a correct count, this routine should be called exactly once for each object that will be constructed. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer number of internal patch data slots required to perform sum. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>max_variables_to_register</em>&nbsp;</td><td>integer value indicating maximum number of patch data ids that will be registered with edge sum objects. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="Utilities_8h_source.html#l00050">NULL_USE</a>.</p>

</div>
</div>
<a class="anchor" id="a2d8f676dcb0bc7007e630ef052eb9a74"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::registerSum" ref="a2d8f676dcb0bc7007e630ef052eb9a74" args="(int edge_data_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::algs::PatchBoundaryEdgeSum::registerSum </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>edge_data_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register edge data with given patch data identifier for summing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>edge_data_id</em>&nbsp;</td><td>integer patch data index for edge data to sum</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>!d_setup_called </dd>
<dd>
edge_data_id &gt;= 0 </dd>
<dd>
<a class="el" href="classSAMRAI_1_1hier_1_1VariableDatabase.html#a9a9b3b6122833db2716a3a600dfa12e3" title="Return a pointer to the singleton variable database instance.">hier::VariableDatabase::getDatabase()</a>-&gt;getPatchDescriptor()-&gt;getPatchDataFactory(edge_data_id) is actually a boost::shared_ptr&lt;pdat::EdgeDataFactory&lt;double&gt; &gt; </dd></dl>

<p>References <a class="el" href="Utilities_8h_source.html#l00149">BOOST_CAST</a>, <a class="el" href="VariableDatabase_8C_source.html#l00044">SAMRAI::hier::VariableDatabase::getDatabase()</a>, <a class="el" href="VariableDatabase_8C_source.html#l00108">SAMRAI::hier::VariableDatabase::getPatchDescriptor()</a>, <a class="el" href="VariableDatabase_8C_source.html#l00214">SAMRAI::hier::VariableDatabase::getVariable()</a>, <a class="el" href="IntVector_8h_source.html#l00732">SAMRAI::hier::IntVector::getZero()</a>, <a class="el" href="Utilities_8C_source.html#l00139">SAMRAI::tbox::Utilities::intToString()</a>, <a class="el" href="VariableDatabase_8C_source.html#l00747">SAMRAI::hier::VariableDatabase::registerInternalSAMRAIVariable()</a>, <a class="el" href="ComponentSelector_8h_source.html#l00195">SAMRAI::hier::ComponentSelector::setFlag()</a>, <a class="el" href="Utilities_8h_source.html#l00110">TBOX_ASSERT</a>, and <a class="el" href="Utilities_8h_source.html#l00060">TBOX_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a90b2f0d56bbb111cb4c10be34a2e2c92"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::setupSum" ref="a90b2f0d56bbb111cb4c10be34a2e2c92" args="(const boost::shared_ptr&lt; hier::PatchLevel &gt; &amp;level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::algs::PatchBoundaryEdgeSum::setupSum </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="classSAMRAI_1_1hier_1_1PatchLevel.html">hier::PatchLevel</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>level</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set up summation operations for edge data across shared edges on a single level. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>pointer to level on which to perform edge sum</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>level </dd></dl>

<p>References <a class="el" href="RefineAlgorithm_8C_source.html#l00161">SAMRAI::xfer::RefineAlgorithm::createSchedule()</a>, <a class="el" href="RefineAlgorithm_8C_source.html#l00062">SAMRAI::xfer::RefineAlgorithm::registerRefine()</a>, and <a class="el" href="Utilities_8h_source.html#l00110">TBOX_ASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="ad813c9c0520f8d649bb272ab2cc98c15"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::computeSum" ref="ad813c9c0520f8d649bb272ab2cc98c15" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::algs::PatchBoundaryEdgeSum::computeSum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute sum of edge values at each shared edge and replace each such edge value with the corresponding sum. </p>
<p>At the end of this method, all values at shared edge locations on patch boundaries will have the same value. </p>

</div>
</div>
<a class="anchor" id="a0003811faf69a908e5aa86a1235f95e0"></a><!-- doxytag: member="SAMRAI::algs::PatchBoundaryEdgeSum::getObjectName" ref="a0003811faf69a908e5aa86a1235f95e0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; SAMRAI::algs::PatchBoundaryEdgeSum::getObjectName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the object name. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The object name. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/SAMRAI/algs/<a class="el" href="PatchBoundaryEdgeSum_8h.html">PatchBoundaryEdgeSum.h</a></li>
<li>source/SAMRAI/algs/<a class="el" href="PatchBoundaryEdgeSum_8C.html">PatchBoundaryEdgeSum.C</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 3 Dec 2014 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
