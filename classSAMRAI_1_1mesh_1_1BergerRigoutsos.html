<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SAMRAI: SAMRAI::mesh::BergerRigoutsos Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1mesh.html">mesh</a>::<a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsos.html">BergerRigoutsos</a></div>
<h1>SAMRAI::mesh::BergerRigoutsos Class Reference</h1><!-- doxytag: class="SAMRAI::mesh::BergerRigoutsos" --><!-- doxytag: inherits="SAMRAI::mesh::BoxGeneratorStrategy" -->Asynchronous Berger-Rigoutsos implementation. This class is derived from the abstract base class <a class="el" href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html">mesh::BoxGeneratorStrategy</a>. Thus, it serves as a concrete implementation of the box generator Strategy pattern interface.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;source/SAMRAI/mesh/BergerRigoutsos.h&gt;</code>
<p>
<p>Inheritance diagram for SAMRAI::mesh::BergerRigoutsos:
<p><center><img src="classSAMRAI_1_1mesh_1_1BergerRigoutsos.png" usemap="#SAMRAI::mesh::BergerRigoutsos_map" border="0" alt=""></center>
<map name="SAMRAI::mesh::BergerRigoutsos_map">
<area href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html" alt="SAMRAI::mesh::BoxGeneratorStrategy" shape="rect" coords="0,0,226,24">
</map>
<a href="classSAMRAI_1_1mesh_1_1BergerRigoutsos-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsos.html#0dee60469fcfbe8a67fe3494fd0ef864">BergerRigoutsos</a> (const <a class="el" href="classSAMRAI_1_1tbox_1_1Dimension.html">tbox::Dimension</a> &amp;dim, <a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt; <a class="el" href="classSAMRAI_1_1tbox_1_1Database.html">tbox::Database</a> &gt; database=<a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt; <a class="el" href="classSAMRAI_1_1tbox_1_1Database.html">tbox::Database</a> &gt;(NULL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#0dee60469fcfbe8a67fe3494fd0ef864"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsos.html#47fe383dfb08ba99421a42a650e41d7c">~BergerRigoutsos</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#47fe383dfb08ba99421a42a650e41d7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsos.html#465aa30d68596804972ecf2ffe67e8a3">setMPI</a> (const <a class="el" href="classSAMRAI_1_1tbox_1_1SAMRAI__MPI.html">tbox::SAMRAI_MPI</a> &amp;mpi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the MPI communication object.  <a href="#465aa30d68596804972ecf2ffe67e8a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsos.html#87ae9b77b62314606337deef503f1acb">findBoxesContainingTags</a> (<a class="el" href="classSAMRAI_1_1hier_1_1BoxLevel.html">hier::BoxLevel</a> &amp;new_mapped_box_level, <a class="el" href="classSAMRAI_1_1hier_1_1Connector.html">hier::Connector</a> &amp;tag_to_new, <a class="el" href="classSAMRAI_1_1hier_1_1Connector.html">hier::Connector</a> &amp;new_to_tag, const <a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt; <a class="el" href="classSAMRAI_1_1hier_1_1PatchLevel.html">hier::PatchLevel</a> &gt; tag_level, const int tag_data_index, const int tag_val, const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a> &amp;bound_box, const <a class="el" href="classSAMRAI_1_1hier_1_1IntVector.html">hier::IntVector</a> &amp;min_box, const double efficiency_tol, const double combine_tol, const <a class="el" href="classSAMRAI_1_1hier_1_1IntVector.html">hier::IntVector</a> &amp;max_gcw, const <a class="el" href="classSAMRAI_1_1hier_1_1BlockId.html">hier::BlockId</a> &amp;block_id) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement the <a class="el" href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html">mesh::BoxGeneratorStrategy</a> interface method of the same name.  <a href="#87ae9b77b62314606337deef503f1acb"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Asynchronous Berger-Rigoutsos implementation. This class is derived from the abstract base class <a class="el" href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html">mesh::BoxGeneratorStrategy</a>. Thus, it serves as a concrete implementation of the box generator Strategy pattern interface. 
<p>
This class uses the <a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsosNode.html">BergerRigoutsosNode</a> class to carry out the asynchronous Berger-Rigoutsos algorithm. It handles aspects not central to that algorithm. It:<ul>
<li>Implements the box generator Strategy pattern interface.</li><li>Provides an interface with the input database for setting parameters influencing the implementation.</li><li>Sorts the output data (if user requests).</li><li>Performs some additional error checking. For more details on the parallel implementation, see <a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsosNode.html">mesh::BergerRigoutsosNode</a>.</li></ul>
<p>
User inputs (default):<ul>
<li>string <b>algo_advance_mode</b> ("ADVANCE_SOME"): Asynchronous algorithm advance mode. The default has been empirically determined to scale best to higher numbers of processors and work adequately for lower numbers of processors.</li><li>std::string <b>owner_mode</b> ("MOST_OVERLAP"): How to chose the owner from a dendogram node group. This std::string is used in <a class="el" href="classSAMRAI_1_1mesh_1_1BergerRigoutsosNode.html#d5fec39c7084ef622c3c16b47361acc8">BergerRigoutsosNode::setOwnerMode()</a>.</li><li>bool <b>sort_output_nodes</b> (false): Whether to sort the output. This makes the normally non-deterministic ordering deterministic and the results repeatable.</li><li>bool <b>max_box_size:</b> The maximum cluster dimension allowed. This parameter is not critical to clustering but limiting the cluster size may improve performance of load balancing algorithms (due to the excessive work required by the owner of huge clusters).</li><li>bool <b>check_min_box_size:</b> A flag to control how to resolve an initial box that violates the minimum box size. Set to one of these strings: <b>"IGNORE"</b> - violations will be quietly disregarded. <b>"WARN"</b> - violations will cause a warning but the code will continue anyway. <b>"ERROR"</b> - violations will cause an unrecoverable assertion. The default is "WARN".</li><li>double <b>max_lap_cut_from_center</b> (1.0): Limit the Laplace cut to this fraction of the distance from the center plane to the end. Zero means cut only at the center plane. One means unlimited. Under most situations, one is fine. A lower setting helps prevent parallel slivers.</li></ul>
<p>
Debugging inputs (default):<ul>
<li>bool <b>log_node_history</b> (false): Whether to log what certain actions of nodes in the dendogram. This degrades the performance but is a very useful debugging tool.</li><li>bool <b>log_cluster_summary</b> (false): Whether to briefly log the results of the clustering.</li><li>bool <b>log_cluster</b> (false): Whether to log the results of the clustering. </li></ul>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="0dee60469fcfbe8a67fe3494fd0ef864"></a><!-- doxytag: member="SAMRAI::mesh::BergerRigoutsos::BergerRigoutsos" ref="0dee60469fcfbe8a67fe3494fd0ef864" args="(const tbox::Dimension &amp;dim, tbox::Pointer&lt; tbox::Database &gt; database=tbox::Pointer&lt; tbox::Database &gt;(NULL))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::mesh::BergerRigoutsos::BergerRigoutsos           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1tbox_1_1Dimension.html">tbox::Dimension</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt; <a class="el" href="classSAMRAI_1_1tbox_1_1Database.html">tbox::Database</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>database</em> = <code><a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt;&nbsp;<a class="el" href="classSAMRAI_1_1tbox_1_1Database.html">tbox::Database</a>&nbsp;&gt;(NULL)</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="47fe383dfb08ba99421a42a650e41d7c"></a><!-- doxytag: member="SAMRAI::mesh::BergerRigoutsos::~BergerRigoutsos" ref="47fe383dfb08ba99421a42a650e41d7c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::mesh::BergerRigoutsos::~BergerRigoutsos           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>
Deallocate internal data. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="465aa30d68596804972ecf2ffe67e8a3"></a><!-- doxytag: member="SAMRAI::mesh::BergerRigoutsos::setMPI" ref="465aa30d68596804972ecf2ffe67e8a3" args="(const tbox::SAMRAI_MPI &amp;mpi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::mesh::BergerRigoutsos::setMPI           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1tbox_1_1SAMRAI__MPI.html">tbox::SAMRAI_MPI</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>mpi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the MPI communication object. 
<p>
Duplicate the communicator in the given for private use. A private communicator isolates the complex communications used by the asynchronous algorithm from other communications. Duplicating the communicator is expensive but should only be need once. All processes in the communicator must participate. The duplicate communicator is active until this object is destructed. Using a duplicated MPI communicator is optional but recommended. When a duplicate MPI communicator is in use, it must be congruent with the communicator associated with the tag level.<p>
If the communicator is not set, the parallel clustering algorithm uses the communicator of the input tag mapped_box_level. If it is set, then the algorithm only works for input tag mapped_box_levels with a congruent communicator.<p>
If communicator is SAMRAI_MPI::commNull, it is the same as not using a duplicate communicator. 
</div>
</div><p>
<a class="anchor" name="87ae9b77b62314606337deef503f1acb"></a><!-- doxytag: member="SAMRAI::mesh::BergerRigoutsos::findBoxesContainingTags" ref="87ae9b77b62314606337deef503f1acb" args="(hier::BoxLevel &amp;new_mapped_box_level, hier::Connector &amp;tag_to_new, hier::Connector &amp;new_to_tag, const tbox::Pointer&lt; hier::PatchLevel &gt; tag_level, const int tag_data_index, const int tag_val, const hier::Box &amp;bound_box, const hier::IntVector &amp;min_box, const double efficiency_tol, const double combine_tol, const hier::IntVector &amp;max_gcw, const hier::BlockId &amp;block_id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::mesh::BergerRigoutsos::findBoxesContainingTags           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSAMRAI_1_1hier_1_1BoxLevel.html">hier::BoxLevel</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_mapped_box_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSAMRAI_1_1hier_1_1Connector.html">hier::Connector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tag_to_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSAMRAI_1_1hier_1_1Connector.html">hier::Connector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_to_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1tbox_1_1Pointer.html">tbox::Pointer</a>&lt; <a class="el" href="classSAMRAI_1_1hier_1_1PatchLevel.html">hier::PatchLevel</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>tag_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>tag_data_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>tag_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bound_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1IntVector.html">hier::IntVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>min_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>efficiency_tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>combine_tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1IntVector.html">hier::IntVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>max_gcw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1BlockId.html">hier::BlockId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>block_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Implement the <a class="el" href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html">mesh::BoxGeneratorStrategy</a> interface method of the same name. 
<p>
Create a set of boxes that covers all integer tags on the patch level that match the specified tag value. Each box will be at least as large as the given minimum size and the tolerances will be met.<p>
The efficiency tolerance is a threshold value for the percentage of tagged cells in each box. If this percentage is below the tolerance, the box will continue to be split into smaller boxes.<p>
The combine tolerance is a threshold value for the sum of the volumes of two boxes into which a box may be potentially split. If ratio of that sum and the volume of the original box, the box will not be split. 
<p>
Implements <a class="el" href="classSAMRAI_1_1mesh_1_1BoxGeneratorStrategy.html#8211e21d80b8815e3aa46edcafbb812f">SAMRAI::mesh::BoxGeneratorStrategy</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>source/SAMRAI/mesh/<a class="el" href="BergerRigoutsos_8h.html">BergerRigoutsos.h</a><li>source/SAMRAI/mesh/<a class="el" href="BergerRigoutsos_8C.html">BergerRigoutsos.C</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Mar 16 14:34:19 2012 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
