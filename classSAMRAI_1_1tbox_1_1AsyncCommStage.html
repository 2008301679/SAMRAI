<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAMRAI: SAMRAI::tbox::AsyncCommStage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1tbox.html">tbox</a>::<a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html">AsyncCommStage</a>
  </div>
</div>
<div class="contents">
<h1>SAMRAI::tbox::AsyncCommStage Class Reference</h1><!-- doxytag: class="SAMRAI::tbox::AsyncCommStage" -->
<p>Stage multiple non-blocking MPI communications so that codes waiting for them to complete can advance as their respective MPI communication operations are completed.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;source/SAMRAI/tbox/AsyncCommStage.h&gt;</code></p>

<p><a href="classSAMRAI_1_1tbox_1_1AsyncCommStage-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Handler.html">Handler</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optional object that can be attached to each <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>, for use in determining what to do after the <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> completes its communication.  <a href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Handler.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Something on a stage, using MPI requests and statuses provided by the stage.  <a href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#aa884da88737394f38ce4a2a852da197b">AsyncCommStage</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a stage that may begin allocating and managing Members.  <a href="#aa884da88737394f38ce4a2a852da197b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#ad79e8a21a1925cd5ed29fa9ad9a51e1f">~AsyncCommStage</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocate Members remaining in the stage and all internal data used to manage Members.  <a href="#ad79e8a21a1925cd5ed29fa9ad9a51e1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a09bc07eacf6d52d4684f6814e9816160">advanceAny</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance to completion one <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> (any <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>) that is currently waiting for communication to complete.  <a href="#a09bc07eacf6d52d4684f6814e9816160"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a0a92d78e5dfefa658d6a58552a8f4742">advanceSome</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance to completion one or more Members (any Members) that are currently waiting for communication to complete.  <a href="#a0a92d78e5dfefa658d6a58552a8f4742"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#aba30a698655f6982fdbbb7c6b8dadbe5">advanceAll</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance all pending communications to operations.  <a href="#aba30a698655f6982fdbbb7c6b8dadbe5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#aa71811dc3b8cb79480db6540bdd1285d">numberOfCompletedMembers</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#ad077d7728231ccfe4ba3b337760caf3f">hasCompletedMembers</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#ad37091ef83e848d2dd2515b0b7f5cc18">firstCompletedMember</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the first completed <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>.  <a href="#ad37091ef83e848d2dd2515b0b7f5cc18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a5ad96a231cdbbd9a46a5a2a52ee93cee">getMember</a> (size_t i) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the ith managed <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>.  <a href="#a5ad96a231cdbbd9a46a5a2a52ee93cee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#abb8d37947f445f7b0d56d6f4ca2931f4">popCompletionQueue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#affa5c4fdb2b9913cb631c3e6d0193ea2">clearCompletionQueue</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the internal completion queue.  <a href="#affa5c4fdb2b9913cb631c3e6d0193ea2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a008646a6c74c9dd857c7417cbcdffa38">setCommunicationWaitTimer</a> (const boost::shared_ptr&lt; <a class="el" href="classSAMRAI_1_1tbox_1_1Timer.html">Timer</a> &gt; &amp;communication_timer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set optional timer for timing communication wait.  <a href="#a008646a6c74c9dd857c7417cbcdffa38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a25fbf29115b0374aac157ae8933dbbdd">numberOfMembers</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of Members on this stage.  <a href="#a25fbf29115b0374aac157ae8933dbbdd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#ab9944c6b2364c1ba4944e6104eb6f28e">numManagedMembers</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of staged and destaged Members.  <a href="#ab9944c6b2364c1ba4944e6104eb6f28e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a72ad68ee2014c063cf7f4d567d46bcbf">hasPendingRequests</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return whether the stage has any pending communication requests.  <a href="#a72ad68ee2014c063cf7f4d567d46bcbf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a9bccbb6d56e6afd418677295d83c6942">numberOfPendingMembers</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of Members that have pending communication.  <a href="#a9bccbb6d56e6afd418677295d83c6942"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a3de374a3230456c3358ec6c878428963">numberOfPendingRequests</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of pending <a class="el" href="classSAMRAI_1_1tbox_1_1SAMRAI__MPI.html#ac4f0d990b03eadfa60b081861dfa3748">SAMRAI_MPI::Request</a> objects on the stage.  <a href="#a3de374a3230456c3358ec6c878428963"></a><br/></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a7e310b7cc7c7bc63e0407731103cdde5">Member</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> is a friend so it can access private look-up and stage/destage methods. This avoids making those private methods public. This friendship is safe because <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> is an integral part of the stage code.  <a href="#a7e310b7cc7c7bc63e0407731103cdde5"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Stage multiple non-blocking MPI communications so that codes waiting for them to complete can advance as their respective MPI communication operations are completed. </p>
<p>An <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html" title="Stage multiple non-blocking MPI communications so that codes waiting for them to...">AsyncCommStage</a> object manages multiple non-blocking MPI communications carried out by <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">AsyncCommStage::Member</a> objects. These classes factor out multiple non-blocking communication codes.</p>
<p>By being staged together, Members can overlap their communication waits conveniently. The stage determines which Member's communication requests are completed. User code then follows up the communication with whatever was waiting for that operation to complete.</p>
<p>The <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> class defines the interfaces required to work with an <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html" title="Stage multiple non-blocking MPI communications so that codes waiting for them to...">AsyncCommStage</a>. Communication operations can be a simple non-blocking MPI communication or a complex sequence of MPI communications and local computations. See <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> subclasses for examples.</p>
<p>Use this class when you:</p>
<ul>
<li>Have multiple communications, each performed by a different and independent <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">AsyncCommStage::Member</a> object.</li>
<li>Want the multiple communications to proceed independently and asynchronously.</li>
</ul>
<p>Each <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html" title="Stage multiple non-blocking MPI communications so that codes waiting for them to...">AsyncCommStage</a> is a registry of <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> objects on the stage. To overlap the Members' communications, the stage manages space for their <a class="el" href="classSAMRAI_1_1tbox_1_1SAMRAI__MPI.html#ac4f0d990b03eadfa60b081861dfa3748">SAMRAI_MPI::Request</a>'s and <a class="el" href="structSAMRAI_1_1tbox_1_1SAMRAI__MPI_1_1Status.html" title="Dummy definition of Status to match the MPI standard.">SAMRAI_MPI::Status</a>'es. The requests are allocated such that a single MPI_Waitany or MPI_Waitsome represents all Members registered with the stage. Thus the communications performed by the <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> objects can complete in the order allowed by the arrival of MPI messages. The exact order is NOT deterministic!</p>
<p>To advance the communication operation of any of the allocated <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> objects, use <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a09bc07eacf6d52d4684f6814e9816160" title="Advance to completion one Member (any Member) that is currently waiting for communication...">advanceAny()</a> or <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a0a92d78e5dfefa658d6a58552a8f4742" title="Advance to completion one or more Members (any Members) that are currently waiting...">advanceSome()</a>. In general, <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a0a92d78e5dfefa658d6a58552a8f4742" title="Advance to completion one or more Members (any Members) that are currently waiting...">advanceSome()</a> has better performance than <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a09bc07eacf6d52d4684f6814e9816160" title="Advance to completion one Member (any Member) that is currently waiting for communication...">advanceAny()</a> because it avoids the "starvation" problem. See the MPI documentation for a discussion of starvation.</p>
<p>This class supports communication and uses MPI for message passing. If MPI is disabled, the job of this class disappears and the class is effectively empty, except for managing the registration of <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> objects. The public interfaces still remain so the class can compile, but the implementations are trivial. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa884da88737394f38ce4a2a852da197b"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::AsyncCommStage" ref="aa884da88737394f38ce4a2a852da197b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::tbox::AsyncCommStage::AsyncCommStage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a stage that may begin allocating and managing Members. </p>

</div>
</div>
<a class="anchor" id="ad79e8a21a1925cd5ed29fa9ad9a51e1f"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::~AsyncCommStage" ref="ad79e8a21a1925cd5ed29fa9ad9a51e1f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SAMRAI::tbox::AsyncCommStage::~AsyncCommStage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deallocate Members remaining in the stage and all internal data used to manage Members. </p>

<p>References <a class="el" href="AsyncCommStage_8C_source.html#l00614">hasPendingRequests()</a>, and <a class="el" href="Utilities_8h_source.html#l00060">TBOX_ERROR</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a09bc07eacf6d52d4684f6814e9816160"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::advanceAny" ref="a09bc07eacf6d52d4684f6814e9816160" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SAMRAI::tbox::AsyncCommStage::advanceAny </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Advance to completion one <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> (any <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>) that is currently waiting for communication to complete. </p>
<p>The completed <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> is accessible through <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#abb8d37947f445f7b0d56d6f4ca2931f4">popCompletionQueue()</a>.</p>
<p>This method uses MPI_Waitany, which may be prone to starvation. When a process is potentially receiving multiple messages from another processor, it is better to use <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#a0a92d78e5dfefa658d6a58552a8f4742" title="Advance to completion one or more Members (any Members) that are currently waiting...">advanceSome()</a>, which uses MPI_Waitsome, which avoids starvation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if there are still completed Members in the completion queue. </dd></dl>

<p>References <a class="el" href="AsyncCommStage_8C_source.html#l00614">hasPendingRequests()</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00043">MPI_ERR_IN_STATUS</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00138">SAMRAI::tbox::SAMRAI_MPI::Status::MPI_ERROR</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00042">MPI_REQUEST_NULL</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00039">MPI_SUCCESS</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00044">MPI_UNDEFINED</a>, <a class="el" href="Utilities_8h_source.html#l00110">TBOX_ASSERT</a>, <a class="el" href="Utilities_8h_source.html#l00060">TBOX_ERROR</a>, <a class="el" href="Utilities_8h_source.html#l00070">TBOX_WARNING</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00838">SAMRAI::tbox::SAMRAI_MPI::usingMPI()</a>, and <a class="el" href="SAMRAI__MPI_8C_source.html#l00539">SAMRAI::tbox::SAMRAI_MPI::Waitany()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a92d78e5dfefa658d6a58552a8f4742"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::advanceSome" ref="a0a92d78e5dfefa658d6a58552a8f4742" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SAMRAI::tbox::AsyncCommStage::advanceSome </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Advance to completion one or more Members (any Members) that are currently waiting for communication to complete. </p>
<p>The completed Members are accessible through <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#abb8d37947f445f7b0d56d6f4ca2931f4">popCompletionQueue()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if there are still completed Members in the completion queue. </dd></dl>

<p>References <a class="el" href="AsyncCommStage_8C_source.html#l00778">SAMRAI::tbox::AsyncCommStage::Member::hasPendingRequests()</a>, <a class="el" href="AsyncCommStage_8C_source.html#l00614">hasPendingRequests()</a>, <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html#a377ac960e58fbaa8c5d528c86c2d6100">SAMRAI::tbox::AsyncCommStage::Member::isDone()</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00043">MPI_ERR_IN_STATUS</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00042">MPI_REQUEST_NULL</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00039">MPI_SUCCESS</a>, <a class="el" href="namespaceSAMRAI_1_1tbox.html#ab84041705493761fb17a8127e3a2dca2">SAMRAI::tbox::plog</a>, <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html#afb9f55fd72f7f9713b0138e8cad7c87e">SAMRAI::tbox::AsyncCommStage::Member::proceedToNextWait()</a>, <a class="el" href="Utilities_8h_source.html#l00110">TBOX_ASSERT</a>, <a class="el" href="Utilities_8h_source.html#l00060">TBOX_ERROR</a>, <a class="el" href="Utilities_8h_source.html#l00070">TBOX_WARNING</a>, <a class="el" href="SAMRAI__MPI_8h_source.html#l00838">SAMRAI::tbox::SAMRAI_MPI::usingMPI()</a>, and <a class="el" href="SAMRAI__MPI_8C_source.html#l00568">SAMRAI::tbox::SAMRAI_MPI::Waitsome()</a>.</p>

<p>Referenced by <a class="el" href="AsyncCommStage_8C_source.html#l00330">advanceAll()</a>, <a class="el" href="GraphLoadBalancer_8C_source.html#l00072">SAMRAI::mesh::GraphLoadBalancer::loadBalanceBoxLevel()</a>, and <a class="el" href="BaseConnectorAlgorithm_8C_source.html#l00174">SAMRAI::hier::BaseConnectorAlgorithm::receiveAndUnpack()</a>.</p>

</div>
</div>
<a class="anchor" id="aba30a698655f6982fdbbb7c6b8dadbe5"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::advanceAll" ref="aba30a698655f6982fdbbb7c6b8dadbe5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SAMRAI::tbox::AsyncCommStage::advanceAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Advance all pending communications to operations. </p>
<p>The completed Members are accessible through <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#abb8d37947f445f7b0d56d6f4ca2931f4">popCompletionQueue()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if there are still completed Members in the completion queue. </dd></dl>

<p>References <a class="el" href="AsyncCommStage_8C_source.html#l00350">advanceSome()</a>, and <a class="el" href="AsyncCommStage_8C_source.html#l00614">hasPendingRequests()</a>.</p>

</div>
</div>
<a class="anchor" id="aa71811dc3b8cb79480db6540bdd1285d"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::numberOfCompletedMembers" ref="aa71811dc3b8cb79480db6540bdd1285d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SAMRAI::tbox::AsyncCommStage::numberOfCompletedMembers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad077d7728231ccfe4ba3b337760caf3f"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::hasCompletedMembers" ref="ad077d7728231ccfe4ba3b337760caf3f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SAMRAI::tbox::AsyncCommStage::hasCompletedMembers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="GraphLoadBalancer_8C_source.html#l00072">SAMRAI::mesh::GraphLoadBalancer::loadBalanceBoxLevel()</a>, <a class="el" href="AsyncCommStage_8C_source.html#l00302">popCompletionQueue()</a>, and <a class="el" href="BaseConnectorAlgorithm_8C_source.html#l00174">SAMRAI::hier::BaseConnectorAlgorithm::receiveAndUnpack()</a>.</p>

</div>
</div>
<a class="anchor" id="ad37091ef83e848d2dd2515b0b7f5cc18"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::firstCompletedMember" ref="ad37091ef83e848d2dd2515b0b7f5cc18" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a>* SAMRAI::tbox::AsyncCommStage::firstCompletedMember </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the first completed <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>. </p>

<p>Referenced by <a class="el" href="AsyncCommStage_8C_source.html#l00302">popCompletionQueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ad96a231cdbbd9a46a5a2a52ee93cee"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::getMember" ref="a5ad96a231cdbbd9a46a5a2a52ee93cee" args="(size_t i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a>* SAMRAI::tbox::AsyncCommStage::getMember </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the ith managed <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>i &lt; <a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#ab9944c6b2364c1ba4944e6104eb6f28e" title="Returns the number of staged and destaged Members.">numManagedMembers()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abb8d37947f445f7b0d56d6f4ca2931f4"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::popCompletionQueue" ref="abb8d37947f445f7b0d56d6f4ca2931f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">AsyncCommStage::Member</a> * SAMRAI::tbox::AsyncCommStage::popCompletionQueue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="AsyncCommStage_8h_source.html#l00453">firstCompletedMember()</a>, <a class="el" href="AsyncCommStage_8h_source.html#l00444">hasCompletedMembers()</a>, and <a class="el" href="Utilities_8h_source.html#l00060">TBOX_ERROR</a>.</p>

<p>Referenced by <a class="el" href="GraphLoadBalancer_8C_source.html#l00072">SAMRAI::mesh::GraphLoadBalancer::loadBalanceBoxLevel()</a>, and <a class="el" href="BaseConnectorAlgorithm_8C_source.html#l00174">SAMRAI::hier::BaseConnectorAlgorithm::receiveAndUnpack()</a>.</p>

</div>
</div>
<a class="anchor" id="affa5c4fdb2b9913cb631c3e6d0193ea2"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::clearCompletionQueue" ref="affa5c4fdb2b9913cb631c3e6d0193ea2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::tbox::AsyncCommStage::clearCompletionQueue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear the internal completion queue. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classSAMRAI_1_1tbox_1_1AsyncCommStage.html#abb8d37947f445f7b0d56d6f4ca2931f4">popCompletionQueue()</a>, <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html#ae6c1a0b33b53af30cab0d5ea08d64f2e" title="Push this onto its stage&#39;s list of completed Members.">Member::pushToCompletionQueue()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a008646a6c74c9dd857c7417cbcdffa38"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::setCommunicationWaitTimer" ref="a008646a6c74c9dd857c7417cbcdffa38" args="(const boost::shared_ptr&lt; Timer &gt; &amp;communication_timer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::tbox::AsyncCommStage::setCommunicationWaitTimer </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="classSAMRAI_1_1tbox_1_1Timer.html">Timer</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>communication_timer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set optional timer for timing communication wait. </p>
<p>The timer is used only for the MPI communication wait. Timing does not include time the stage Members use to process the messages (the time spent in <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html#afb9f55fd72f7f9713b0138e8cad7c87e" title="If current MPI requests have completed, proceed to the next communication wait (or...">Member::proceedToNextWait()</a>).</p>
<p>If not set, or NULL is given, none will be used. </p>

<p>Referenced by <a class="el" href="CascadePartitioner_8C_source.html#l00062">SAMRAI::mesh::CascadePartitioner::CascadePartitioner()</a>, <a class="el" href="Schedule_8C_source.html#l00617">SAMRAI::tbox::Schedule::setTimerPrefix()</a>, <a class="el" href="BergerRigoutsos_8C_source.html#l01073">SAMRAI::mesh::BergerRigoutsos::setTimerPrefix()</a>, and <a class="el" href="BaseConnectorAlgorithm_8C_source.html#l00041">SAMRAI::hier::BaseConnectorAlgorithm::setupCommunication()</a>.</p>

</div>
</div>
<a class="anchor" id="a25fbf29115b0374aac157ae8933dbbdd"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::numberOfMembers" ref="a25fbf29115b0374aac157ae8933dbbdd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SAMRAI::tbox::AsyncCommStage::numberOfMembers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of Members on this stage. </p>

</div>
</div>
<a class="anchor" id="ab9944c6b2364c1ba4944e6104eb6f28e"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::numManagedMembers" ref="ab9944c6b2364c1ba4944e6104eb6f28e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SAMRAI::tbox::AsyncCommStage::numManagedMembers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of staged and destaged Members. </p>

</div>
</div>
<a class="anchor" id="a72ad68ee2014c063cf7f4d567d46bcbf"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::hasPendingRequests" ref="a72ad68ee2014c063cf7f4d567d46bcbf" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SAMRAI::tbox::AsyncCommStage::hasPendingRequests </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return whether the stage has any pending communication requests. </p>

<p>References <a class="el" href="SAMRAI__MPI_8h_source.html#l00042">MPI_REQUEST_NULL</a>.</p>

<p>Referenced by <a class="el" href="AsyncCommStage_8C_source.html#l00330">advanceAll()</a>, <a class="el" href="AsyncCommStage_8C_source.html#l00501">advanceAny()</a>, <a class="el" href="AsyncCommStage_8C_source.html#l00350">advanceSome()</a>, <a class="el" href="GraphLoadBalancer_8C_source.html#l00072">SAMRAI::mesh::GraphLoadBalancer::loadBalanceBoxLevel()</a>, <a class="el" href="AsyncCommStage_8C_source.html#l00647">numberOfPendingMembers()</a>, and <a class="el" href="AsyncCommStage_8C_source.html#l00053">~AsyncCommStage()</a>.</p>

</div>
</div>
<a class="anchor" id="a9bccbb6d56e6afd418677295d83c6942"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::numberOfPendingMembers" ref="a9bccbb6d56e6afd418677295d83c6942" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SAMRAI::tbox::AsyncCommStage::numberOfPendingMembers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the number of Members that have pending communication. </p>

<p>References <a class="el" href="AsyncCommStage_8C_source.html#l00614">hasPendingRequests()</a>.</p>

</div>
</div>
<a class="anchor" id="a3de374a3230456c3358ec6c878428963"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::numberOfPendingRequests" ref="a3de374a3230456c3358ec6c878428963" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SAMRAI::tbox::AsyncCommStage::numberOfPendingRequests </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the number of pending <a class="el" href="classSAMRAI_1_1tbox_1_1SAMRAI__MPI.html#ac4f0d990b03eadfa60b081861dfa3748">SAMRAI_MPI::Request</a> objects on the stage. </p>

<p>References <a class="el" href="SAMRAI__MPI_8h_source.html#l00042">MPI_REQUEST_NULL</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a7e310b7cc7c7bc63e0407731103cdde5"></a><!-- doxytag: member="SAMRAI::tbox::AsyncCommStage::Member" ref="a7e310b7cc7c7bc63e0407731103cdde5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html">Member</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> is a friend so it can access private look-up and stage/destage methods. This avoids making those private methods public. This friendship is safe because <a class="el" href="structSAMRAI_1_1tbox_1_1AsyncCommStage_1_1Member.html" title="Something on a stage, using MPI requests and statuses provided by the stage.">Member</a> is an integral part of the stage code. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/SAMRAI/tbox/<a class="el" href="AsyncCommStage_8h.html">AsyncCommStage.h</a></li>
<li>source/SAMRAI/tbox/<a class="el" href="AsyncCommStage_8C.html">AsyncCommStage.C</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 21 Jan 2016 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
